<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate point set and image augmentation data with on disk storage — generateDiskPointAndSegmentationData • surgeRy</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generate point set and image augmentation data with on disk storage — generateDiskPointAndSegmentationData" />
<meta property="og:description" content="This assumes that at least images and point sets are passed in - segmentation
images are optional.  The indexing of point sets will be whichSimulation by
whichPoint by dimensionality (e.g. 10 x 25 x 3 for 10 simulations of point sets
with 25 points in 3D." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">surgeRy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/surgeRy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/surgeRygen.html">surgeRy: basic landmark data generation example explained</a>
    </li>
    <li>
      <a href="../articles/surgeRytrain.html">surgeRy: basic landmark unet training example explained</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/stnava/surgeRy/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate point set and image augmentation data with on disk storage</h1>
    <small class="dont-index">Source: <a href='https://github.com/stnava/surgeRy/blob/master/R/surgeRy.R'><code>R/surgeRy.R</code></a></small>
    <div class="hidden name"><code>generateDiskPointAndSegmentationData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This assumes that at least images and point sets are passed in - segmentation
images are optional.  The indexing of point sets will be whichSimulation by
whichPoint by dimensionality (e.g. 10 x 25 x 3 for 10 simulations of point sets
with 25 points in 3D.</p>
    </div>

    <pre class="usage"><span class='fu'>generateDiskPointAndSegmentationData</span><span class='op'>(</span>
  <span class='va'>inputImageList</span>,
  <span class='va'>pointsetList</span>,
  <span class='va'>segmentationImageList</span>,
  <span class='va'>segmentationNumbers</span>,
  <span class='va'>selector</span>,
  <span class='va'>maskIndex</span>,
  smoothHeatMaps <span class='op'>=</span> <span class='fl'>0</span>,
  <span class='va'>numpynames</span>,
  numberOfSimulations <span class='op'>=</span> <span class='fl'>16</span>,
  referenceImage <span class='op'>=</span> <span class='cn'>NULL</span>,
  transformType <span class='op'>=</span> <span class='st'>"rigid"</span>,
  noiseModel <span class='op'>=</span> <span class='st'>"additivegaussian"</span>,
  noiseParameters <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.002</span><span class='op'>)</span>,
  sdSimulatedBiasField <span class='op'>=</span> <span class='fl'>5e-04</span>,
  sdHistogramWarping <span class='op'>=</span> <span class='fl'>5e-04</span>,
  sdAffine <span class='op'>=</span> <span class='fl'>0.2</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>inputImageList</th>
      <td><p>list of lists of input images to warp.  The internal
list sets contains one or more images (per subject) which are
assumed to be mutually aligned.  The outer list contains
multiple subject lists which are randomly sampled to produce
output image list.</p></td>
    </tr>
    <tr>
      <th>pointsetList</th>
      <td><p>list of matrices containing point sets where each matrix
is of size n-points by dimensionality matching to input segmentation/image data (optional)</p></td>
    </tr>
    <tr>
      <th>segmentationImageList</th>
      <td><p>of segmentation images corresponding to the input image list (optional)</p></td>
    </tr>
    <tr>
      <th>segmentationNumbers</th>
      <td><p>the integer list of values in the segmentation to model</p></td>
    </tr>
    <tr>
      <th>selector</th>
      <td><p>subsets the input lists (eg to define train test splits)</p></td>
    </tr>
    <tr>
      <th>maskIndex</th>
      <td><p>the entry within the list of lists that contains a mask</p></td>
    </tr>
    <tr>
      <th>smoothHeatMaps</th>
      <td><p>numeric greater than zero will cause method to return heatmaps.
the value passed here also sets the smoothing parameter passed to <code>smoothImage</code>
in pixel/voxel space.</p></td>
    </tr>
    <tr>
      <th>numpynames</th>
      <td><p>the names of the numpy on disk files should include something
with the word pointset. Also:
the string segmentation if using segmentations and
the string mask if using maskIndex and something with the word coordconv if using CC.
should include something with the word heatmaps if using heatmaps.</p></td>
    </tr>
    <tr>
      <th>numberOfSimulations</th>
      <td><p>number of output images/pointsets.  Default = 10.</p></td>
    </tr>
    <tr>
      <th>referenceImage</th>
      <td><p>defines the spatial domain for all output images.  If
the input images do not match the spatial domain of the reference image, we
internally resample the target to the reference image.  This could have
unexpected consequences.  Resampling to the reference domain is performed by
testing using <code>antsImagePhysicalSpaceConsistency</code> then calling
<code>resampleImageToTarget</code> upon failure.</p></td>
    </tr>
    <tr>
      <th>transformType</th>
      <td><p>one of the following options
<code><a href='https://rdrr.io/r/base/c.html'>c( "translation", "rigid", "scaleShear", "affine" )</a></code>.  Non-invertible
models will not work with point sets.</p></td>
    </tr>
    <tr>
      <th>noiseModel</th>
      <td><p>one of the following options
<code><a href='https://rdrr.io/r/base/c.html'>c( "additivegaussian", "saltandpepper", "shot", "speckle" )</a></code></p></td>
    </tr>
    <tr>
      <th>noiseParameters</th>
      <td><p>'additivegaussian': <code><a href='https://rdrr.io/r/base/c.html'>c( mean, standardDeviation )</a></code>,
'saltandpepper': <code><a href='https://rdrr.io/r/base/c.html'>c( probability, saltValue, pepperValue) </a></code>, 'shot':
scale, 'speckle': standardDeviation.  Note that the standard deviation,
scale, and probability values are <em>max</em> values and are randomly selected
in the range <code>[0, noise_parameter]</code>.  Also, the "mean", "saltValue" and
pepperValue" are assumed to be in the intensity normalized range of <code>[0, 1]</code>.</p></td>
    </tr>
    <tr>
      <th>sdSimulatedBiasField</th>
      <td><p>Characterize the standard deviation of the amplitude.</p></td>
    </tr>
    <tr>
      <th>sdHistogramWarping</th>
      <td><p>Determines the strength of the bias field.</p></td>
    </tr>
    <tr>
      <th>sdAffine</th>
      <td><p>Determines the amount of transformation based change</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>list of array</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Avants BB</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span> <span class='va'><a href='https://github.com/rstudio/reticulate'>reticulate</a></span> <span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span> <span class='va'>ANTsR</span> <span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span> <span class='va'><a href='https://github.com/ANTsX/ANTsRNet'>ANTsRNet</a></span> <span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span> <span class='va'><a href='https://github.com/stnava/surgeRy'>surgeRy</a></span> <span class='op'>)</span>
<span class='va'>image1</span> <span class='op'>&lt;-</span> <span class='fu'>antsImageRead</span><span class='op'>(</span> <span class='fu'>getANTsRData</span><span class='op'>(</span> <span class='st'>"r16"</span> <span class='op'>)</span> <span class='op'>)</span>
<span class='va'>image2</span> <span class='op'>&lt;-</span> <span class='fu'>antsImageRead</span><span class='op'>(</span> <span class='fu'>getANTsRData</span><span class='op'>(</span> <span class='st'>"r27"</span> <span class='op'>)</span> <span class='op'>)</span>
<span class='va'>segmentation1</span> <span class='op'>&lt;-</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>image1</span>, <span class='st'>"Otsu"</span>, <span class='fl'>3</span> <span class='op'>)</span>
<span class='va'>segmentation11</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>segmentation1</span>, <span class='fl'>1</span>, <span class='fl'>1</span> <span class='op'>)</span>
<span class='va'>segmentation12</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>segmentation1</span>, <span class='fl'>2</span>, <span class='fl'>2</span> <span class='op'>)</span>
<span class='va'>segmentation13</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>segmentation1</span>, <span class='fl'>3</span>, <span class='fl'>3</span> <span class='op'>)</span>
<span class='va'>segmentation11</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>128</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>256</span><span class='op'>]</span><span class='op'>=</span><span class='fl'>0</span>
<span class='va'>segmentation12</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>256</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>180</span><span class='op'>]</span><span class='op'>=</span><span class='fl'>0</span>
<span class='va'>segmentation13</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>256</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>128</span><span class='op'>]</span><span class='op'>=</span><span class='fl'>0</span>
<span class='va'>segmentation1</span> <span class='op'>=</span> <span class='va'>segmentation11</span> <span class='op'>+</span> <span class='va'>segmentation12</span><span class='op'>*</span> <span class='fl'>2</span> <span class='op'>+</span> <span class='va'>segmentation13</span> <span class='op'>*</span> <span class='fl'>3</span>
<span class='va'>segmentation2</span> <span class='op'>&lt;-</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>image2</span>, <span class='st'>"Otsu"</span>, <span class='fl'>3</span> <span class='op'>)</span>
<span class='va'>segmentation21</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>segmentation2</span>, <span class='fl'>1</span>, <span class='fl'>1</span> <span class='op'>)</span>
<span class='va'>segmentation22</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>segmentation2</span>, <span class='fl'>2</span>, <span class='fl'>2</span> <span class='op'>)</span>
<span class='va'>segmentation23</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span> <span class='va'>segmentation2</span>, <span class='fl'>3</span>, <span class='fl'>3</span> <span class='op'>)</span>
<span class='va'>segmentation21</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>128</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>256</span><span class='op'>]</span><span class='op'>=</span><span class='fl'>0</span>
<span class='va'>segmentation22</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>256</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>180</span><span class='op'>]</span><span class='op'>=</span><span class='fl'>0</span>
<span class='va'>segmentation23</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>256</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>128</span><span class='op'>]</span><span class='op'>=</span><span class='fl'>0</span>
<span class='va'>segmentation2</span> <span class='op'>=</span> <span class='va'>segmentation21</span> <span class='op'>+</span> <span class='va'>segmentation22</span><span class='op'>*</span> <span class='fl'>2</span> <span class='op'>+</span> <span class='va'>segmentation23</span> <span class='op'>*</span> <span class='fl'>3</span>
<span class='va'>pts1</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/ANTsRCore/man/getCentroids.html'>getCentroids</a></span><span class='op'>(</span> <span class='va'>segmentation1</span> <span class='op'>)</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span>
<span class='va'>pts2</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/ANTsRCore/man/getCentroids.html'>getCentroids</a></span><span class='op'>(</span> <span class='va'>segmentation2</span> <span class='op'>)</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>]</span>
<span class='va'>plist</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span> <span class='va'>pts1</span>, <span class='va'>pts2</span><span class='op'>)</span>
<span class='va'>ilist</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span> <span class='va'>image1</span> <span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span> <span class='va'>image2</span> <span class='op'>)</span> <span class='op'>)</span>
<span class='va'>slist</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span> <span class='va'>segmentation1</span>, <span class='va'>segmentation2</span> <span class='op'>)</span>
<span class='va'>npn</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'i.npy'</span>,<span class='st'>'pointset.npy'</span>,<span class='st'>'heatmap.npy'</span>,<span class='st'>'coordconv.npy'</span>,<span class='st'>'segmentation.npy'</span><span class='op'>)</span> <span class='op'>)</span>
<span class='va'>temp1</span> <span class='op'>=</span> <span class='fu'>generateDiskPointAndSegmentationData</span><span class='op'>(</span> <span class='va'>ilist</span>, <span class='va'>plist</span>, <span class='va'>slist</span>,
   segmentationNumbers <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, numpynames <span class='op'>=</span> <span class='va'>npn</span> <span class='op'>)</span>
<span class='va'>temp2</span> <span class='op'>=</span> <span class='fu'>generateDiskPointAndSegmentationData</span><span class='op'>(</span> <span class='va'>ilist</span>, <span class='va'>plist</span>,
   segmentationNumbers <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, numpynames <span class='op'>=</span> <span class='va'>npn</span>, smoothHeatMaps <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>)</span>
<span class='va'>temp</span> <span class='op'>=</span> <span class='fu'>generateDiskPointAndSegmentationData</span><span class='op'>(</span> <span class='va'>ilist</span>, <span class='va'>plist</span>, <span class='va'>slist</span>,
   segmentationNumbers <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, numpynames <span class='op'>=</span> <span class='va'>npn</span>, smoothHeatMaps <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>)</span>
<span class='va'>locimg</span><span class='op'>=</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>images</span><span class='op'>[</span><span class='fl'>1</span>,,,<span class='fl'>1</span><span class='op'>]</span> <span class='op'>)</span>
<span class='va'>locseg</span><span class='op'>=</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>segmentation</span><span class='op'>[</span><span class='fl'>1</span>,,,<span class='fl'>3</span><span class='op'>]</span> <span class='op'>)</span>
<span class='va'>locseg2</span><span class='op'>=</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>segmentation</span><span class='op'>[</span><span class='fl'>2</span>,,,<span class='fl'>3</span><span class='op'>]</span> <span class='op'>)</span>
<span class='va'>locimg2</span><span class='op'>=</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>images</span><span class='op'>[</span><span class='fl'>2</span>,,,<span class='fl'>1</span><span class='op'>]</span> <span class='op'>)</span>
<span class='co'># layout(matrix(1:4,nrow=1))</span>
<span class='co'># plot(locimg,locseg)</span>
<span class='co'># plot(locimg,as.antsImage( temp$heatmaps[1,,,3]))</span>
<span class='co'># plot(locimg2,locseg2)</span>
<span class='co'># plot(locimg2,as.antsImage( temp$heatmaps[2,,,3]))</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/ANTsRCore/man/getCentroids.html'>getCentroids</a></span><span class='op'>(</span> <span class='fu'>thresholdImage</span><span class='op'>(</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>heatmaps</span><span class='op'>[</span><span class='fl'>1</span>,,,<span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>,<span class='fl'>0.5</span>,<span class='fl'>1</span><span class='op'>)</span> <span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;        x   y z t
#&gt; [1,] 159 133 0 0</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/ANTsRCore/man/getCentroids.html'>getCentroids</a></span><span class='op'>(</span> <span class='fu'>thresholdImage</span><span class='op'>(</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>heatmaps</span><span class='op'>[</span><span class='fl'>1</span>,,,<span class='fl'>3</span><span class='op'>]</span><span class='op'>)</span>,<span class='fl'>0.5</span>,<span class='fl'>1</span><span class='op'>)</span> <span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;        x   y z t
#&gt; [1,] 127 164 0 0</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>temp</span><span class='op'>$</span><span class='va'>points</span><span class='op'>[</span><span class='fl'>1</span>,<span class='fl'>1</span>,<span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 159.3520 132.8819</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>temp</span><span class='op'>$</span><span class='va'>points</span><span class='op'>[</span><span class='fl'>1</span>,<span class='fl'>3</span>,<span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 126.5328 163.7855</div><div class='input'><span class='va'>mm</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/ANTsR/man/makePointsImage.html'>makePointsImage</a></span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>points</span><span class='op'>[</span><span class='fl'>1</span>,,<span class='op'>]</span>, <span class='fu'>getMask</span><span class='op'>(</span> <span class='va'>locimg</span> <span class='op'>)</span> <span class='op'>)</span>
<span class='va'>mm2</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/ANTsR/man/makePointsImage.html'>makePointsImage</a></span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>points</span><span class='op'>[</span><span class='fl'>2</span>,,<span class='op'>]</span>, <span class='fu'>getMask</span><span class='op'>(</span> <span class='va'>locimg2</span> <span class='op'>)</span> <span class='op'>)</span>
<span class='va'>gg1</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>heatmaps</span><span class='op'>[</span><span class='fl'>1</span>,,,<span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>,<span class='fl'>0.5</span>,<span class='fl'>1</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>antsCopyImageInfo2</span><span class='op'>(</span><span class='fu'>ri</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>gg2</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>heatmaps</span><span class='op'>[</span><span class='fl'>1</span>,,,<span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>,<span class='fl'>0.5</span>,<span class='fl'>1</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>antsCopyImageInfo2</span><span class='op'>(</span><span class='fu'>ri</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>gg3</span> <span class='op'>=</span> <span class='fu'>thresholdImage</span><span class='op'>(</span><span class='fu'>as.antsImage</span><span class='op'>(</span> <span class='va'>temp</span><span class='op'>$</span><span class='va'>heatmaps</span><span class='op'>[</span><span class='fl'>1</span>,,,<span class='fl'>3</span><span class='op'>]</span><span class='op'>)</span>,<span class='fl'>0.5</span>,<span class='fl'>1</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>antsCopyImageInfo2</span><span class='op'>(</span><span class='fu'>ri</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'># plot( locimg, mm )</span>
<span class='co'># plot( locimg, gg1*1+gg2*2+gg3*3 )</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Brian B Avants, Nicholas J Tustison.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


